/*! 15.8.10 */function _int10(t){return parseInt(t,10)}function _format(t){if("number"!=typeof(t-0))return null;var n=""+t,i=n.length;if(4>i)return n;for(var e="",o=0;i>o;o++)0!=o&&o%3==0&&(e=","+e),e=n.substr(i-o-1,1)+e;return e}function _zero(t,n){if(void 0===n&&(n=0),0==n)return""+t;for(var i=""+t;i.length<n;)i="0"+i;return i}function _range(t,n,i){return(n-t)*i+t}function _ratio(t,n,i){return i=(i-t)/(n-t),_wrap(0,1,i)}function _wrap(t,n,i){return i>n?n:t>i?t:i}function _between(t,n,i){return i>=t&&n>=i}function _randomInt(t,n){return void 0===t?99999999*Math.random()|0:void 0===n?Math.random()*t|0:Math.random()*(n-t)+t|0}var __extends=this.__extends||function(t,n){function i(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);i.prototype=n.prototype,t.prototype=new i};$.fn.x=$.fn.left=function(t){return void 0!==t?this.css("left",t):_int10(this.css("left"))},$.fn.right=function(t){return void 0!==t?this.css("right",t):_int10(this.css("right"))},$.fn.y=$.fn.top=function(t){return void 0!==t?this.css("top",t):_int10(this.css("top"))},$.fn.bottom=function(t){return void 0!==t?this.css("bottom",t):_int10(this.css("bottom"))},$.fn.xy=function(t,n){return this.css({left:t,top:n})},$.fn.w=function(t){return void 0!==t?this.css("width",t):_int10(this.css("width"))},$.fn.h=function(t){return void 0!==t?this.css("height",t):_int10(this.css("height"))},$.fn.wh=function(t,n){return this.css({width:t,height:n})},$.fn.xy=function(t,n){return this.css({top:n,left:t})},$.fn.z=function(t){return this.css("z-index",t)},$.fn.bounds=function(t,n,i,e){return this.css({left:t,top:n,width:i,height:e})},$.fn.alpha=function(t){return void 0!==t?this.css("opacity",t):this.css("opacity")},$.fn.autoAlpha=function(t){return this.css(t?{opacity:t,visibility:"visible"}:{opacity:0,visibility:"hidden"})},$.fn.active=function(){return this.css({opacity:1,display:"block"})},$.fn.deactive=function(){return this.css({opacity:0,display:"none"})},$.fn.visible=function(){return this.css("visibility","visible")},$.fn.hidden=function(){return this.css("visibility","hidden")},$.fn.block=function(){return this.css("display","block")},$.fn.none=function(){return this.css("display","none")},$.fn.fixed=function(t,n){var i={position:"fixed"};return void 0!=t&&(i.left=t),void 0!=n&&(i.top=n),this.css(i)},$.fn.absolute=function(t,n){var i={position:"absolute"};return void 0!=t&&(i.left=t),void 0!=n&&(i.top=n),this.css(i)},$.fn.relative=function(t,n){var i={position:"relative"};return void 0!=t&&(i.left=t),void 0!=n&&(i.top=n),this.css(i)},$.fn.bgImage=function(t){return this.css("background-image","url("+t+")")},$.fn.swapImage=function(t){return this.each(function(){var n=$(this).find("img")[0];(new Image).src=n.src.replace(/(.gif$|.png$|.jpg$)/,t+"$1")}).hover(function(){var n=$(this).find("img")[0];n.src=n.src.replace(t,"").replace(/(.gif$|.png$|.jpg$)/,t+"$1")},function(){var n=$(this).find("img")[0];n.src=n.src.replace(t,"")})},Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var n=0,i=this.length;i>n;n++)if(this[n]==t)return n;return-1});var util;!function(t){var n=navigator.userAgent.toLocaleLowerCase();t.support={iphone:/iphone/.test(n),android:/android/.test(n),mobile:/mobile/.test(n),windowsPhone:/windows phone/.test(n)},t.isPC=function(){return!(t.support.iphone||t.support.android||t.support.windowsPhone)},t.isSP=function(){return t.support.iphone||t.support.android&&t.support.mobile||t.support.windowsPhone},t.isMobile=function(){return t.support.iphone||t.support.android||t.support.windowsPhone},t.isLegacyIE=function(){return!("addEventListener"in window)};var i=function(){function t(){}return t.prototype.done=function(t,n){return"function"==typeof t?this._done={obj:null,func:t}:"object"==typeof t&&"function"==typeof n&&(this._done={obj:t,func:n}),this},t.prototype.exec=function(){throw new Error("extend Command#exec")},t.prototype.__done=function(t){this._done&&this._done.func.call(this._done.obj,t||this)},t.prototype.dispose=function(){return this._done=null,this},t}();t.Command=i;var e=function(t){function n(){t.apply(this,arguments),this._commands=[]}return __extends(n,t),n.prototype.debug=function(){return this._debug="console"in window,this},n.prototype.queue=function(t,n){if("function"!=typeof t||n)if("object"==typeof t&&"function"==typeof n)this._commands.push({obj:t,func:n,type:"method"});else{if(!("object"==typeof t&&"__done"in t))throw new Error("[ Serial.queue ] argument is not command.");this._commands.push({obj:t,type:"command"})}else this._commands.push({obj:null,func:t,type:"function"});return this},n.prototype.func=function(t,n){return this.queue(t,n),this._commands[this._commands.length-1].auto=!0,this},n.prototype.auto=function(t,n){return this.func(t,n)},n.prototype.call=function(t,n){return this.func(t,n)},n.prototype.wait=function(t){var n=this;return this._commands.push({obj:this,type:"wait",func:function(){setTimeout(function(){n._commands.length?n._next():(n._commands=null,n.__done(n))},t)}}),this},n.prototype.exec=function(){var t=this;return setTimeout(function(){t._next()},1),this},n.prototype._next=function(){var t=this,n=this._commands.shift(),i=function(){t._debug&&console.log("command count : "+t._commands.length),t._commands.length?t._next():t.__done(t)};"command"===n.type?(!n.auto&&n.obj.done(i),n.obj.exec.call(n.obj),n.auto&&i()):n.auto?(n.func.call(n.obj),i()):n.func.call(n.obj,i)},n}(i);t.Serial=e;var o=function(t){function n(n){t.call(this),n&&this.setup(n)}return __extends(n,t),n.prototype.setup=function(t){return this._dataset=t,this},n.prototype.getDataset=function(){return this._dataset},n.prototype.getAt=function(t){return this._dataset[t]},n.prototype.isReady=function(){return!!this._dataset},n.prototype.size=function(){return this._dataset?this._dataset.length:0},n}(i);t.Assets=o;var r=function(t){function n(){t.apply(this,arguments),this._queue={},this._queuelist=[]}return __extends(n,t),n.prototype.queue=function(t,n){if(!n.isReady())throw new Error("AssetsQueue#add");return this._queue[t]=n,this._queuelist.push(n),this},n.prototype.getBy=function(t){return this._queue[t]},n.prototype.exec=function(){var t=this,n=this._queuelist.shift();return n.done(function(){0==t._queuelist.length?t.__done(t):t.exec()}).exec(),this},n}(i);t.AssetsQueue=r;var s=function(t){function n(){t.apply(this,arguments),this._data={},this._count=0}return __extends(n,t),n.prototype.setup=function(t){return this._dataset=t,this},n.prototype._next=function(t){var n=t._dataset[t._count++];n?$.ajax({url:n.src,dataType:n.type||"json",success:function(i){n.data=i,n.id&&(t._data[n.id]=i),t._next(t)}}):t.__done(t)},n.prototype.getBy=function(t){return this._data[t]},n.prototype.getAt=function(t){return this._dataset[t]},n.prototype.exec=function(){var t=this;return setTimeout(function(){t._next(t)},0),this},n}(t.Assets);t.FileAssets=s;var u=function(t){function n(){t.apply(this,arguments),this._ids={}}return __extends(n,t),n.prototype.setup=function(t){if("string"==typeof t[0])for(var n=0,i=t.length;i>n;n++)t[n]={src:t[n]};return"src"in t[0]&&(this._dataset=t),this},n.prototype.exec=function(){var t=this,n=this._dataset.length,i=0,e=[],o=[];for(i=0;n>i;i++){var r=new Image;r.onerror=function(){delete this.onerror,o.push("load error: ",this.src)},r.src=this._dataset[i].src,e.push(r),"id"in this._dataset[i]&&(this._ids[this._dataset[i].id]=this._dataset[i])}return setTimeout(function(){var r=0;for(i=0;n>i;i++){var s=e[i];if(!s.complete)break;r++}if(n>r)setTimeout(arguments.callee,100);else if(o.length)"console"in window?console.log("ImageAssets :",o):alert(o);else{for(i=0;n>i;i++)t._dataset[i].data=e[i];setTimeout(function(){t.__done(t)},1)}},100),this},n.prototype.getById=function(t){return this._ids[t]},n}(o);t.ImageAssets=u;var a=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.setup=function(t){var n=Math.random()*t.length|0,i=t[n];return this._dataset=[i],this},n.prototype.getData=function(){return this._dataset[0]},n.prototype.getAt=function(){return this._dataset[0]},n}(u);t.RandomImageAssets=a;var c=function(t){function n(n,i,e){t.call(this),this._options={type:"POST",async:!0,dataType:"json"},this._apiname=n,this._params=e||{},this.option(i||{})}return __extends(n,t),n.prototype.apiname=function(t){return this._apiname=t,this},n.prototype.params=function(t){return this._params=t,this},n.prototype.option=function(t){return t.type&&(this._options.type=t.type),t.async&&(this._options.async=t.async),t.dataType&&(this._options.dataType=t.dataType),this},n.prototype.onSuccess=function(t){return this._onSuccess=t,this},n.prototype.onError=function(t){return this._onError=t,this},n.prototype.request=function(t,i){var e=this;if(i&&(this._onSuccess=i),!this.isConnecting()){this._connecting=!0;var o=n.DOMAIN+this._apiname;return $.ajax({type:this._options.type,async:this._options.async,dataType:this._options.dataType,url:o,data:t||this._params,success:function(t){e._connecting=!1,"error"in t&&1==t.error?"function"==typeof e._onError&&e._onError("["+o+"] "+t.error):(e._data=t,"function"==typeof e._onSuccess&&e._onSuccess(e))},error:function(t,n,i){e._connecting=!1,"function"==typeof e._onError&&e._onError("["+o+"] "+n+" "+i)}}),this}},n.prototype.exec=function(){var t=this;return this.request().onError(function(t){throw new Error(t)}).onSuccess(function(){t._onError=null,t._onSuccess=null,t.__done(t)}),this},n.prototype.dispose=function(){this._data=null,this._apiname=null,this._onError=null,this._onSuccess=null,t.prototype.dispose.call(this)},n.prototype.getData=function(){return this._data},n.prototype.isConnecting=function(){return this._connecting},n.DOMAIN="",n}(i);t.API=c;var h=function(){function t(){this.FPS=33,this._count=0,this._observers=[]}return t.instanceById=function(n){return t._instance[n]||(t._instance[n]=new t),t._instance[n]},t.prototype.add=function(t){return-1===this._observers.indexOf(t)&&this._observers.push(t),this},t.prototype.remove=function(t){var n=this._observers.indexOf(t);return-1!==n&&this._observers.splice(n,1),this},t.prototype.start=function(t){var n=this;arguments.length&&(this.FPS=t),this.stop(),this._timer=setInterval(function(){n._update()},this.FPS)},t.prototype.stop=function(){clearInterval(this._timer)},t.prototype._update=function(){for(var t=0,n=this._observers.length;n>t;t++)this._observers[t].update(this._count);this._count++},t._instance={},t}();t.Ticker=h;var p=function(){function t(t,n){this._listeners=[],this._size=0,this.reset(t,n)}return t.prototype.add=function(t,n){return n in t&&(this._listeners.push({listener:t,func:n}),this._size=this._listeners.length),this},t.prototype.remove=function(t,n){if(n in t)for(var i=0;i<this._size;i++){var e=this._listeners[0];if(n in e.listener&&e.func===n&&e.listener===t){this._listeners.splice(i,1),this._size=this._listeners.length;break}}return this},t.prototype.reset=function(t,n){return this._count=t||60,this._interval=n||1e3,this},t.prototype.start=function(){var t=this;return this._timer||(this._onTick(),this._timer=setInterval(function(){t._count--,t._onTick()},this._interval)),this},t.prototype._onTick=function(){this._count<=0&&(this._count=0,this.stop());for(var t=0;t<this._size;t++){var n=this._listeners[0],i={target:this,count:this._count};n.listener[n.func](i)}},t.prototype.stop=function(){return this._timer&&(clearInterval(this._timer),this._timer=null),this},t.prototype.dispose=function(){for(this.stop();this._listeners.length;)this._listeners.pop()},t.prototype.getCount=function(){return this._count},t.prototype.formatTime=function(){var t=this._count/60>>0,n=this._count%60;return t+":"+(10>n?"0":"")+n},t}();t.CountdownTimer=p;var f=function(){function t(t){var n=this;this.MAX_COUNT=10,this._onDevicemotion=function(t){n._count<n.MAX_COUNT?t.acceleration?n._onFireAcceleration(t.acceleration):n._onFireAcceGravity(t.accelerationIncludingGravity):n._onFinish()},this._count=0,this.MAX_COUNT=t||30}return t.prototype.onFire=function(t){return this._onFireHandler=t,this},t.prototype.done=function(t){return this._onDone=t,this},t.prototype._onFireAcceleration=function(t){if(t.x+t.y+t.z>10){if(this._count++,!this._onFireHandler)return;this._onFireHandler(this._count,t.x,t.y,t.z)}},t.prototype._onFireAcceGravity=function(t){t.x>5&&(this._count++,this._onFireHandler(this._count,t.x,t.y,t.z))},t.prototype._onFinish=function(){this.stop(),this._onDone(),this._onDone=null,this._onFireHandler=null},t.prototype.finish=function(){this._onFinish()},t.prototype.stop=function(){window.removeEventListener("devicemotion",this._onDevicemotion)},t.prototype.exec=function(){var t=this;return setTimeout(function(){window.addEventListener("devicemotion",t._onDevicemotion)},1),this},t}();t.ShakeController=f;var _=function(){function t(){var t=this;this._onDevicemotion=function(n){if(t._onFireHandler){var i=n.accelerationIncludingGravity;t._onFireHandler(i.x,i.y,i.z)}}}return t.prototype.onFire=function(t){return this._onFireHandler=t,this},t.prototype.stop=function(){window.removeEventListener("devicemotion",this._onDevicemotion,!1)},t.prototype.finish=function(){this.stop(),this._onFireHandler=null},t.prototype.exec=function(){var t=this;if(!this._onFireHandler)throw new Error('set "onFire" handler');return setTimeout(function(){window.addEventListener("devicemotion",t._onDevicemotion)},1),this},t}();t.GravityController=_;var l=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.initView=function(t){return this.$view=t,this},n.prototype.move=function(t,n){return this.$view.xy(t,n),this},n.prototype.appear=function(t){return t&&t(),this},n.prototype.disappear=function(t){return t&&t(),this},n.prototype.appendTo=function(t){return this.$view.appendTo(t),this},n.prototype.prependTo=function(t){return this.$view.prependTo(t),this},n.prototype.active=function(){return this},n.prototype.deactive=function(){return this},n.prototype.none=function(){return this.$view.none(),this},n.prototype.block=function(){return this.$view.block(),this},n.prototype.visible=function(){return this.$view.visible(),this},n.prototype.hidden=function(){return this.$view.hidden(),this},n.prototype.remove=function(){return this.$view.remove(),this},n.prototype.dispose=function(){throw new Error("View#dispose")},n}(i);t.View=l;var d=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n}(l);t.Page=d;var y=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.newClip=function(t){return t==n.TYPE_IMAGE?new m:t==n.TYPE_CSS?new v:null},n.prototype.play=function(t,n){return this.stop(),n&&"splice"in n?0===n.length?this._playNormal(t):1===n.length?this._playNormal(t,n[0]):this._playRange(t,n):this._playNormal(t,n),this},n.prototype._playNormal=function(t,n){var i=this;n&&this.frame(n),this._timer=setInterval(function(){i.nextFrame()},t)},n.prototype._playRange=function(t,n){var i=this;this.stop();var e=0,o=n.length,r=this._frameLoop;this.frame(n[e]),this._timer=setInterval(function(){e=(e+1)%o,0!==e||r?i.frame(n[e]):clearInterval(i._timer)},t)},n.prototype.loop=function(t){return this._frameLoop=t,this},n.prototype.stop=function(){return this._timer&&(clearInterval(this._timer),this._timer=null),this},n.prototype.setup=function(){return this},n.prototype.frame=function(){return this},n.prototype.nextFrame=function(){return this},n.prototype.dispose=function(){},n.TYPE_IMAGE=0,n.TYPE_CSS=1,n}(l);t.Clip=y;var m=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.setup=function(t,n){return this._data=n,this._currentFrame=0,this._totalFrames=isNaN(this._data.frames)?this._data.frames.length:this._data.frames,this.$view=$("<"+t+"/>").css({width:n.size.w,height:n.size.h,position:"absolute",top:0,left:0,"background-image":"url("+n.src+")","background-position":"0 0"}),this},n.prototype.frame=function(t){this._currentFrame=t;var n=this._data.frames[this._currentFrame];if(!n)throw new Error('Clip#frame[ frame "'+t+'" not found. ]');var i=n.x+"px",e=n.y+"px";return this.$view.css({"background-position":i+" "+e}),this},n.prototype.nextFrame=function(){return this._currentFrame<this._totalFrames-1?this.frame(this._currentFrame+1):this._currentFrame==this._totalFrames-1&&this._frameLoop&&this.frame(0),this},n.prototype.dispose=function(){this.$view=null,this._data=null},n}(y);t.ClipWithImage=m;var v=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.setup=function(t,n){return this._data=n,this._currentFrame=0,this._labels=this._data.frames,this._totalFrames=isNaN(this._data.frames)?this._data.frames.length:this._data.frames,this.$view=$("<"+t+"/>").addClass(this._labels[this._currentFrame]),this._data.id&&this.$view.addClass(this._data.id),this},n.prototype.frame=function(t){var n=this._currentFrame,i=isNaN(t)?this._labels.indexOf(t):_int10(t);if(-1===i)throw new Error('Clip#frame[ frame label "'+t+'" not found. ]');return this._currentFrame=i,this.$view.removeClass(this._labels[n]).addClass(this._labels[i]),this},n.prototype.nextFrame=function(){return this._currentFrame<this._totalFrames-1?this.frame(this._labels[this._currentFrame+1]):this._currentFrame==this._totalFrames-1&&this._frameLoop&&this.frame(this._labels[0]),this},n.prototype.dispose=function(){this.$view.empty(),this.$view=null,this._data=null},n}(y);t.ClipWithCSS=v;var g=function(){function t(){var t=this;this.init(),$(function(){t.ready()}),$(window).on("load",function(){t.load()})}return t.prototype.init=function(){},t.prototype.ready=function(){},t.prototype.load=function(){},t}();t.AppMain=g}(util||(util={}));var URLUtil;!function(t){var n;t.param=function(t){if(n)return n[t];n={};for(var i=location.search.substr(1).split("&"),e=0,o=i.length;o>e;e++){var r=i[e].split("=");n[r[0]]=r[1]}return n[t]},t.redirect=function(t,n,i){if("pc"==t){if(util.isPC())return void(location.href=n)}else if("mobile"==t){if(util.isMobile())return void(location.href=n)}else if("sp"==t){if(util.isSP())return void(location.href=n)}else"function"==typeof i&&i()}}(URLUtil||(URLUtil={}));